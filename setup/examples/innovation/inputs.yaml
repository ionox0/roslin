##########################
# Process Loop UMI Fastq #
##########################

#fastq1: '/home/johnsoni/roslin/setup/examples/innovation/MSK-L-007-bc_IGO_05500_DY_5_S163_R1_001--sub_10000.fastq.gz'
#fastq2: '/home/johnsoni/roslin/setup/examples/innovation/MSK-L-007-bc_IGO_05500_DY_5_S163_R2_001--sub_10000.fastq.gz'
#fastq1: '/home/johnsoni/Innovation/CMO_fastq_raw_data_2015.12.21/JAX_0101_BHL5KNBBXX/Project_05500_DY/Sample_MSK-L-007-bc_IGO_05500_DY_5/MSK-L-007-bc_IGO_05500_DY_5_S2_R1_001.fastq.gz'
#fastq2: '/home/johnsoni/Innovation/CMO_fastq_raw_data_2015.12.21/JAX_0101_BHL5KNBBXX/Project_05500_DY/Sample_MSK-L-007-bc_IGO_05500_DY_5/MSK-L-007-bc_IGO_05500_DY_5_S2_R2_001.fastq.gz'
#sample_sheet: {class: File, path: /home/johnsoni/Innovation/CMO_fastq_raw_data_2015.12.21/JAX_0101_BHL5KNBBXX/Project_05500_DY/Sample_MSK-L-007-bc_IGO_05500_DY_5/SampleSheet.csv}

# Found some small UMI fastqs to test with:
# original location:
#fastq1: '/home/patelju1/fastqs/JAX_0101_BHL5KNBBXX_A1/Project_05500_DY/Sample_bc219-bc096_L8/bc219-bc096_L8_S2232_R1_001.fastq.gz'
#fastq2: '/home/patelju1/fastqs/JAX_0101_BHL5KNBBXX_A1/Project_05500_DY/Sample_bc219-bc096_L8/bc219-bc096_L8_S2232_R2_001.fastq.gz'
# copied to:
fastq1: '/home/johnsoni/roslin/setup/examples/innovation/JAX_0101_BHL5KNBBXX_A1/bc219-bc096_L8_S2232_R1_001.fastq.gz'
fastq2: '/home/johnsoni/roslin/setup/examples/innovation/JAX_0101_BHL5KNBBXX_A1/bc219-bc096_L8_S2232_R2_001.fastq.gz'
sample_sheet: {class: File, path: '/home/johnsoni/roslin/setup/examples/innovation/JAX_0101_BHL5KNBBXX_A1/SampleSheet.csv'}
# todo - original location not found...
# Exception in thread "main" java.io.FileNotFoundException: /home/patelju1/fastqs/JAX_0101_BHL5KNBBXX_A1/Project_05500_DY/Sample_bc219-bc096_L8/bc219-bc096_L8_S2232_R1_001.fastq.gz (No such file or directory)

umi_length: '3'
output_project_folder: '.'
outdir: '.'


############
# Module 1 #
############

adapter: "GATCGGAAGAGCACACGTCTGAACTCCAGTCACACAGATTCATCTCGTATGCCGTCTTCTGCTTG"
adapter2: "AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT"
genome: "GRCh37"
bwa_output: MSK-L-007-bc_IGO_05500_DY_5_S2_001--small.bam
add_rg_LB: "5"
add_rg_PL: "Illumina"
add_rg_ID: "MSK-L-007-bc_IGO_05500_DY_5_S2_001--small"
add_rg_PU: "bc26"
add_rg_SM: "MSK-L-007-bc_IGO_05500_DY_5_S2_001--small"
add_rg_CN: "MSKCC"
add_rg_output: "MSK-L-007-bc_IGO_05500_DY_5_S2_001--small.bam"
md_output: "MSK-L-007-bc_IGO_05500_DY_5_S2_001--small.bam"
md_metrics_output: "MSK-L-007-bc_IGO_05500_DY_5_S2_001--small.metrics"
tmp_dir: /scratch

# @RG
# ID:${sample}
# LB:Garbage
# SM:${sample}
# PL:Illumina
# PU:${barcode}
# CN:InnovationLab


#########################
# Fulcrum Preprocessing #
#########################

# extract_read_names
output_read_names_filename: 'readNames.bed'

# map_read_names_to_umis
annotated_fastq_filename: 'Duplex_UMI_for_readNames.fastq'


###########
# Fulcrum #
###########

tmp_dir: '/scratch'

# AnnotateBamWithUmis
annotated_bam_filename: 'fulcrum__annotated.bam'

# SortBam
sort_order: 'Queryname'
sorted_bam_filename: 'fulcrum__sorted.bam'

# SetMateInformation
set_mate_information_bam_filename: 'fulcrum__mate_fixed.bam'

# GroupReadsByUMI
grouping_strategy: 'paired'
min_mapping_quality: '20'
tag_family_size_counts_output: 'Grouped-mapQ20-histogram'
group_reads_output_bam_filename: 'fulcrum__grouped.bam'

# CallDuplexConsensusReads
call_duplex_consensus_reads_output_bam_filename: 'fulcrum__consensus.bam'

# FilterConsensusReads
reference_fasta:
  class: File
  path: /ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta
filter_min_reads: '1'
filter_min_base_quality: '30'
filter_consensus_reads_output_bam_filename: 'fulcrum__filtered.bam'


##########################
# Fulcrum Postprocessing #
##########################

# sort_bam_queryname
sort_bam_queryname_filename: 'fulcrum__post__qname_sorted.bam'

# samtools fastq
samtools_fastq_read1_output_filename: 'fulcrum__R1.fastq'
samtools_fastq_read2_output_filename: 'fulcrum__R2.fastq'


#########
# Waltz #
#########

coverage_threshold: '20'
# todo - Copy to johnsoni
gene_list: '/home/patelju1/resources/gene-list/juber-hg19-gene-list.bed'
bed_file: '/home/johnsoni/resources/pan-cancer-panel.bed'
# todo - Same as coverage thresh vv?
min_mapping_quality: '20'
waltz_reference_fasta: '/ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta'
waltz_reference_fasta_fai: '/ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta.fai'
