##########################
# Process Loop UMI Fastq #
##########################

# New ones that don't error (test-fastqs--new):
#
# These R1 and R2 were sub-setted from an already mapped Bam from EF using the first entry from the pan-cancer bed file
#
# ~/Innovation/CMO_fastq_raw_data_2015.12.21/JAX_0116_BHM7N7BBXX_A1/Project_05500_EF/Sample_DS-fast-135-bc-N01_IGO_05500_EF_34
# /ifs/work/bergerm1/Innovation/sandbox/Dilmi/5500_EF/ZS-msi-4500-pl-T01-IGO-05500-EF-39_bc403_Pool-05500-EF-Tube4-1_L000_mrg_cl_aln_srt_MD_IR_FX_BR/sample_with_UMI.bam

#fastq1: [
#  '/ifs/work/bergerm1/Innovation/sandbox/ian/test-fastqs--new/test-fastqs--clipped/final_R1_clipping-reversed.fastq.gz'
#  ]
#
#fastq2: [
#  '/ifs/work/bergerm1/Innovation/sandbox/ian/test-fastqs--new/test-fastqs--clipped/final_R2_clipping-reversed.fastq.gz'
#  ]
#
#sample_sheet: [
#  {class: File, path: '/ifs/work/bergerm1/Innovation/sandbox/ian/test-fastqs--new/test-fastqs--clipped/SampleSheet.csv'}
#  ]

fastq1: [
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-30min_IGO_05500_EJ_5/TDM1-td-cf-30min_IGO_05500_EJ_5_S5_R1_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1/MSK-L-039-cf-15min_IGO_05500_EJ_1_S1_R1_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6/TD-Chapman-pool-30min_IGO_05500_EJ_6_S6_R1_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-15min_IGO_05500_EJ_2/TDM1-td-cf-15min_IGO_05500_EJ_2_S2_R1_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3/TD-Chapman-pool-15min_IGO_05500_EJ_3_S3_R1_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4/MSK-L-039-cf--30min_IGO_05500_EJ_4_S4_R1_001.fastq.gz'
  ]

fastq2: [
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-30min_IGO_05500_EJ_5/TDM1-td-cf-30min_IGO_05500_EJ_5_S5_R2_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1/MSK-L-039-cf-15min_IGO_05500_EJ_1_S1_R2_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6/TD-Chapman-pool-30min_IGO_05500_EJ_6_S6_R2_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-15min_IGO_05500_EJ_2/TDM1-td-cf-15min_IGO_05500_EJ_2_S2_R2_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3/TD-Chapman-pool-15min_IGO_05500_EJ_3_S3_R2_001.fastq.gz',
  '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4/MSK-L-039-cf--30min_IGO_05500_EJ_4_S4_R2_001.fastq.gz'
  ]

sample_sheet: [
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-30min_IGO_05500_EJ_5/SampleSheet.csv'},
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1/SampleSheet.csv'},
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6/SampleSheet.csv'},
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TDM1-td-cf-15min_IGO_05500_EJ_2/SampleSheet.csv'},
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3/SampleSheet.csv'},
  {class: File, path: '/ifs/archive/BIC/share/bergerm1/PITT_0166_AHN3GJBBXX/Project_05500_EJ/Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4/SampleSheet.csv'}
  ]

umi_length: '3'
output_project_folder: '.'
outdir: '.'



############
# Module 1 #
############

bwa_output: [
  Sample_TDM1-td-cf-30min_IGO_05500_EJ_5.bam,
  Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1.bam,
  Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6.bam,
  Sample_TDM1-td-cf-15min_IGO_05500_EJ_2.bam,
  Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3.bam,
  Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4.bam
  ]

add_rg_ID: [
  Sample_TDM1-td-cf-30min_IGO_05500_EJ_5,
  Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1,
  Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6,
  Sample_TDM1-td-cf-15min_IGO_05500_EJ_2,
  Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3,
  Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4
]


add_rg_PL: "Illumina"
add_rg_CN: "InnovationLab"

add_rg_LB: [
  Garbage,
  Garbage,
  Garbage,
  Garbage,
  Garbage,
  Garbage
  ]

add_rg_PU: [
  TCGACAAG,
  ACGATCAG,
  CCTTGGAA,
  TCGAGAGT,
  CTAGCTCA,
  ATCGTCTC
]

add_rg_SM: [
  Sample_TDM1-td-cf-30min_IGO_05500_EJ_5,
  Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1,
  Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6,
  Sample_TDM1-td-cf-15min_IGO_05500_EJ_2,
  Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3,
  Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4
  ]

# _add_rg
add_rg_output: [
  "Sample_TDM1-td-cf-30min_IGO_05500_EJ_5",
  "Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1",
  "Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6",
  "Sample_TDM1-td-cf-15min_IGO_05500_EJ_2",
  "Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3",
  "Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4"
  ]

md_output: [
  Sample_TDM1-td-cf-30min_IGO_05500_EJ_5_md.bam,
  Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1_md.bam,
  Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6_md.bam,
  Sample_TDM1-td-cf-15min_IGO_05500_EJ_2_md.bam,
  Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3_md.bam,
  Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4_md.bam
]

md_metrics_output: [
  Sample_TDM1-td-cf-30min_IGO_05500_EJ_5.metrics,
  Sample_MSK-L-039-cf-15min_IGO_05500_EJ_1.metrics,
  Sample_TD-Chapman-pool-30min_IGO_05500_EJ_6.metrics,
  Sample_TDM1-td-cf-15min_IGO_05500_EJ_2.metrics,
  Sample_TD-Chapman-pool-15min_IGO_05500_EJ_3.metrics,
  Sample_MSK-L-039-cf--30min_IGO_05500_EJ_4.metrics
  ]


# I5 adapter: AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT

# 5: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC CTTGTCGA ATATCTCGTATGCCGTCTTCTGCTTG,
# 1: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC CTGATCGT ATATCTCGTATGCCGTCTTCTGCTTG,
# 6: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC TTCCAAGG ATATCTCGTATGCCGTCTTCTGCTTG,
# 2: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC ACTCTCGA ATATCTCGTATGCCGTCTTCTGCTTG,
# 3: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC TGAGCTAG ATATCTCGTATGCCGTCTTCTGCTTG,
# 4: GATCGGAAGAGCACACGTCTGAACTCCAGTCAC GAGACGAT ATATCTCGTATGCCGTCTTCTGCTTG

# I7 Adapters (with barcodes)
adapter: [
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACCTTGTCGAATATCTCGTATGCCGTCTTCTGCTTG",
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACCTGATCGTATATCTCGTATGCCGTCTTCTGCTTG",
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACTTCCAAGGATATCTCGTATGCCGTCTTCTGCTTG",
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACACTCTCGAATATCTCGTATGCCGTCTTCTGCTTG",
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACTGAGCTAGATATCTCGTATGCCGTCTTCTGCTTG",
  "GATCGGAAGAGCACACGTCTGAACTCCAGTCACGAGACGATATATCTCGTATGCCGTCTTCTGCTTG"
  ]

# I5 Adapter
adapter2: "AGATCGGAAGAGCGTCGTGTAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT"
genome: "GRCh37"
tmp_dir: /scratch


#########################
# Fulcrum Preprocessing #
#########################

# extract_read_names
output_read_names_filename: 'readNames.bed'

# map_read_names_to_umis
annotated_fastq_filename: 'Duplex_UMI_for_readNames.fastq'


###########
# Fulcrum #
###########

tmp_dir: '/scratch'

# AnnotateBamWithUmis
annotated_bam_filename: 'fulcrum__annotated.bam'

# SortBam
sort_order: 'Queryname'
sorted_bam_filename: 'fulcrum__sorted.bam'

# SetMateInformation
set_mate_information_bam_filename: 'fulcrum__mate_fixed.bam'

# GroupReadsByUMI
grouping_strategy: 'paired'
min_mapping_quality: '20'
tag_family_size_counts_output: 'Grouped-mapQ20-histogram'
group_reads_output_bam_filename: 'fulcrum__grouped.bam'

# CallDuplexConsensusReads
call_duplex_consensus_reads_output_bam_filename: 'fulcrum__consensus.bam'

# FilterConsensusReads
reference_fasta:
  class: File
  path: /ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta

filter_min_reads: '1'
filter_min_base_quality: '30'
filter_consensus_reads_output_bam_filename: 'fulcrum__filtered.bam'


##########################
# Fulcrum Postprocessing #
##########################

# sort_bam_queryname
sort_bam_queryname_filename: 'fulcrum__post__qname_sorted.bam'

# samtools fastq
samtools_fastq_read1_output_filename: 'fulcrum__R1.fastq'
samtools_fastq_read2_output_filename: 'fulcrum__R2.fastq'


#########
# Waltz #
#########

coverage_threshold: '20'

gene_list: '/home/patelju1/resources/gene-list/juber-hg19-gene-list.bed'
bed_file: '/home/johnsoni/resources/pan-cancer-panel.bed'

min_mapping_quality: '20'
waltz_reference_fasta: '/ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta'
waltz_reference_fasta_fai: '/ifs/depot/resources/dmp/data/pubdata/hg-fasta/VERSIONS/hg19/Homo_sapiens_assembly19.fasta.fai'
